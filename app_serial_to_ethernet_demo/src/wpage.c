#include "wpage.h" 
char page[] = {"<html xmlns='http://www.xmos.com' xml:lang='en' lang='en'>\n<meta http-equiv='Pragma' content='no-cache' />\n<meta http-equiv='Expires' content='-1' />\n<head><title>XMOS Serial to Ethernet</title>\n<script type='text/javascript'>\n// <!--\nvar wpdata = new Array();\nfunction alertContents(httpRequest)\n{\n   if (httpRequest.readyState == 4)\n   {\n      if ((httpRequest.status == 200) || (httpRequest.status == 0))\n      {\n         processHttpResponseText(httpRequest.responseText);\n         document.getElementById('send_status').innerHTML = 'Done';\n      }\n      else\n      {\n         document.getElementById('send_status').innerHTML = 'Error';\n      }\n   }\n}\nfunction processHttpResponseText(rtext)\n{\n   var marker_start = 0;\n   var marker_end = -1;\n   var i = 0;\n   var index_data = 1;\n   for(i = 0; i < rtext.length; i++)\n   {\n      if(rtext.charAt(i) == '~')\n      {\n         if(marker_end == -1)\n         {\n            marker_start = i + 1;\n            marker_end = i + 1;\n         }\n         else\n         {\n            wpdata[index_data] = rtext.substring(marker_start, i);\n            index_data++;\n            marker_start = 0;\n            marker_end = -1;\n         }\n      }\n   }\n   updateWebpageData();\n}\nfunction createRequest(uartReqType)\n{\n   var request;\n   var httpRequest = new XMLHttpRequest();\n   document.getElementById('send_status').innerHTML = 'Wait';\n   updateScriptVariables();\n   if(uartReqType)\n   {\n      wpdata[0] = 1;\n   }\n   else\n   {\n      wpdata[0] = 0;\n   }\n   request = '~' + wpdata[0] + '~~' + wpdata[1] + '~~' + wpdata[2] + '~~' + wpdata[3] + '~~' + wpdata[4] + '~~' + wpdata[5] + '~~' + wpdata[6] + '~';\n   httpRequest.onreadystatechange = function() { alertContents(httpRequest); };\n   httpRequest.open('POST', null, true);\n   httpRequest.setRequestHeader('req', request);\n   httpRequest.send(null);\n}\nfunction updateScriptVariables()\n{\n   wpdata[1] = document.getElementById('ci').value;\n   wpdata[2] = document.getElementById('pc').value;\n   wpdata[3] = document.getElementById('sb').value;\n   wpdata[4] = document.getElementById('br').value;\n   wpdata[5] = document.getElementById('cl').value;\n   wpdata[6] = document.getElementById('tp').value;\n}\nfunction updateWebpageData()\n{\n   document.getElementById('ci').value = wpdata[1];\n   document.getElementById('pc').value = wpdata[2];\n   document.getElementById('sb').value = wpdata[3];\n   document.getElementById('br').value = wpdata[4];\n   document.getElementById('cl').value = wpdata[5];\n   document.getElementById('tp').value = wpdata[6];\n}\n// -->\n</script>\n</head><body><h1 id='heading'>UART Settings</h1>\n<table border='1'>\n<tr><td>Channel Identifier</td><td><select id='ci'><option id='0'>0</option><option id='1'>1</option><option id='2'>2</option><option id='3'>3</option><option id='4'>4</option><option id='5'>5</option><option id='6'>6</option><option id='7'>7</option></select></td>\n<tr><td>Parity Config     </td><td><select id='pc'><option id='0'>0</option><option id='1'>1</option><option id='2'>2</option><option id='3'>3</option><option id='4'>4</option></select></td>\n<tr><td>Stop Bits         </td><td><select id='sb'><option id='0'>0</option><option id='1'>1</option></select></td>\n<tr><td>Baud Rate         </td><td><select id='br'><option id='230400'>230400</option><option id='100000'>100000</option><option id='19200'>19200</option><option id='9600'>9600</option></select></td>\n<tr><td>Char Len          </td><td><select id='cl'><option id='5'>5</option><option id='6'>6</option><option id='7'>7</option><option id='8'>8</option></select></td>\n<tr><td>Telnet Port       </td><td><input type='text' id='tp' maxlength='5' size='5' /></td>\n<tr><td><a href='javascript:void(0);' onClick='createRequest(0);'>Get</a></td><td><a href='javascript:void(0);' onClick='createRequest(1);'>Set</a></td>\n</table><br>\n<p id='send_status'>----</p><br>\n</body></html>\nÿ"};
