
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Component Description &mdash; Multi-UART Module Usage v0.1 documentation</title>
    <link rel="stylesheet" href="_static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <script type="text/javascript" src="_static/xcomment.js"></script>
    <link rel="top" title="Multi-UART Module Usage v0.1 documentation" href="index.html" />
    <link rel="next" title="Multi-UART Common API" href="API.html" />
    <link rel="prev" title="Evaluation Platforms" href="Hardware Requirements.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  

    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
<a href="Hardware Requirements.html"
                        title="previous chapter"> &lt&lt </a>
<a href="API.html"
                        title="next chapter"> &gt&gt </a></p>
</div>

            
  <div class="section" id="component-description">
<h1>Component Description<a class="headerlink" href="#component-description" title="Permalink to this headline">¶</a></h1>
<p>Multi-UART component consists of Transmit and Receive servers. An application utilizing this component can use them independently or togeather based on the application needs.</p>
<div class="section" id="threads">
<h2>Threads<a class="headerlink" href="#threads" title="Permalink to this headline">¶</a></h2>
<p>The multi-UART component comprises primarily of two threads that act as transmit (TX) and receive (RX) servers.</p>
</div>
<div class="section" id="buffering">
<h2>Buffering<a class="headerlink" href="#buffering" title="Permalink to this headline">¶</a></h2>
<p>Buffering for the TX server is handled within the UART TX thread. The buffer is configurable allowing the number of buffer slots that are available to be defined. This is only limited by the available memory left by the rest of the code and data memory usage. Data is transferred to the UART TX thread via shared memory and therefore any client thread must be on the same core as the UART thread.</p>
<p>There is no buffering provided by the RX server. The application must provide a thread that is able to respond to received characters in real time and handle any buffering requirements for the application that is being developed.</p>
</div>
<div class="section" id="communication-model">
<h2>Communication Model<a class="headerlink" href="#communication-model" title="Permalink to this headline">¶</a></h2>
<p>This component utilises a combination of shared memory and channel communication. Channel communication is used on both the RX and TX servers to pause the thread and subsequently release the thread when required for reconfiguration.</p>
<p>The primary means of data transfer for both the RX and TX threads is shared memory. The RX thread utilises a channel to notify any client of available data - this means that events can be utilised within an application to avoid the requirement for polling for received data.</p>
</div>
<div class="section" id="clocking">
<span id="sec-ext-clk"></span><h2>Clocking<a class="headerlink" href="#clocking" title="Permalink to this headline">¶</a></h2>
<p>This component can be configured to either use an external clock source or an internal clock source. External clock source only applies to the TX portion of the component (see <a class="reference internal" href="Programming Guide.html#sec-tx-conf-header"><span>Static configuration of UART TX</span></a>). The advantage of using an external clock source is that an exact baud rate can be achieved by dividing down a master clock such as 1.8432MHz. This is a typical method that standard RS232 devices will use.</p>
<p>Using internal clocking is possible, but for TX the implementation currently limits the application to configuring baud rates that divide exactly into the internal clock. So if the system reference runs at 100MHz the maximum baud rate is 100kbaud.</p>
<p>The RX implementation uses the internal clock under all circumstances. Clock drift is handled by the implementation utilising oversampling to ensure that the bit is sampled as close to the centre of the bit time as possible. This minimises error due to the small drift that is encountered. The syncronisation of the sampling is also reset on every start bit so drift is minimised in a stream of data.</p>
<p>It should be noted that if extremely long data lengths are used the drift encountered may become large as the fractional error will accumulate over the length of the UART word. By taking the fractional error (say for an internal clock of 100MHz and a baud rate of 115200bps we have a fractional error of 0.055) and multiplying it by the number of bits in a UART word (for 8 data bits, 1 parity and one stop bit we have a word length of 11 bits). Thus for the described configuration a drift of 0.61 clock ticks is encountered. This equates to 0.07%.</p>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Multi-UART Module Usage (0.1)</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Resource Requirements.html">Resource Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Hardware Requirements.html">Evaluation Platforms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Component Description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#threads">Threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="#buffering">Buffering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#communication-model">Communication Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clocking">Clocking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="API.html">Multi-UART Common API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-transmit-api">Multi-UART Transmit API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-receive-api">Multi-UART Receive API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-helper-api">Multi-UART Helper API</a></li>
<li class="toctree-l1"><a class="reference internal" href="Programming Guide.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example Applications.html">Example Applications</a></li>
</ul>

<div id="searchbox" style="display: none;margin-bottom: 10px;">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



