
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Example Applications &mdash; Multi-UART Module Usage v0.1 documentation</title>
    <link rel="stylesheet" href="_static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <script type="text/javascript" src="_static/xcomment.js"></script>
    <link rel="top" title="Multi-UART Module Usage v0.1 documentation" href="index.html" />
    <link rel="prev" title="Programming Guide" href="Programming Guide.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  

    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
<a href="Programming Guide.html"
                        title="previous chapter"> &lt&lt </a>
</div>

            
  <div class="section" id="example-applications">
<h1>Example Applications<a class="headerlink" href="#example-applications" title="Permalink to this headline">¶</a></h1>
<p>This section discusses the demonstration application that uses multi-UART component.</p>
<div class="section" id="demonstration-application">
<h2>Demonstration Application<a class="headerlink" href="#demonstration-application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="demo-application-hardware">
<h3>Demo Application Hardware<a class="headerlink" href="#demo-application-hardware" title="Permalink to this headline">¶</a></h3>
<p>The echo demonstration application can be run on the slice kit Board. The following other parts are required -</p>
<blockquote>
<div><ul class="simple">
<li>RS232 to COM port cable (provided with slice card package)</li>
</ul>
</div></blockquote>
<p>The demo application is built by default for Slicekit Core Board, SQAURE Connector type. To build for other connectors, choose from the following changes.</p>
<p>To build for CIRCLE connector, make the following changes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">File</th>
<th class="head">Original Value</th>
<th class="head">New Value</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">src/main.xc</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span> <span class="pre">1</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_CIRCLE</span> <span class="pre">1</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">Makefile</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_CIRCLE</span></tt></td>
</tr>
</tbody>
</table>
<p>To build for TRIANGLE connector, make the following changes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">File</th>
<th class="head">Original Value</th>
<th class="head">New Value</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">src/main.xc</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span> <span class="pre">1</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_TRIANGLE</span> <span class="pre">1</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">Makefile</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_TRIANGLE</span></tt></td>
</tr>
</tbody>
</table>
<p>To build for STAR connector, make the following changes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">File</th>
<th class="head">Original Value</th>
<th class="head">New Value</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">src/main.xc</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span> <span class="pre">1</span></tt></td>
<td><tt class="docutils literal"><span class="pre">#define</span> <span class="pre">SK_MULTI_UART_SLOT_STAR</span> <span class="pre">1</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">Makefile</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_SQUARE</span></tt></td>
<td><tt class="docutils literal"><span class="pre">TARGET</span> <span class="pre">=</span> <span class="pre">SK_MULTI_UART_SLOT_STAR</span></tt></td>
</tr>
</tbody>
</table>
<p>MultiUART component requires 8-bit ports for both UART transmit and UART receive ports. The version runs on L1 (one core) and also on L2 core, based on connector type selection.</p>
<dl class="docutils">
<dt>The UART slice has two types of voltage levels of communications.</dt>
<dd><ul class="first last simple">
<li>CMOS TTL</li>
<li>RS-232</li>
</ul>
</dd>
</dl>
<p>By default, this uses the RS-232 levels. In order to use the CMOS TTL levels, short J3 pins (25-26) of the MUART slice. At a time, only one voltage level type can be used for all 8 UART channels (RS-232 or CMOS TTL). When using the RS-232 levels, UART device pins must be connected to J4 of the UART slice. When using TTL levels, UART device pins must be connected to J3 of UART slice (along with J3 25-26 pins shorted). UART channel information of UART slice is as:</p>
<p id="table-connector-breakout">MUART slice for Demo Applications</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="36%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><strong>UART Channel</strong></th>
<th class="head"><strong>J3/J4 Pin no.(TX)</strong></th>
<th class="head"><strong>J3/J4 Pin no.(RX)</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr><td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr><td>1</td>
<td>5</td>
<td>6</td>
</tr>
<tr><td>2</td>
<td>7</td>
<td>8</td>
</tr>
<tr><td>3</td>
<td>11</td>
<td>12</td>
</tr>
<tr><td>4</td>
<td>13</td>
<td>14</td>
</tr>
<tr><td>5</td>
<td>17</td>
<td>18</td>
</tr>
<tr><td>6</td>
<td>19</td>
<td>20</td>
</tr>
<tr><td>7</td>
<td>23</td>
<td>24</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="demo-application-configuration">
<h3>Demo Application Configuration<a class="headerlink" href="#demo-application-configuration" title="Permalink to this headline">¶</a></h3>
<p>The demo application configuration is done utilising the defines listed out below.</p>
<div class="highlight-none"><div class="highlight"><pre>/* Define number of UARTs to be configured */
#define UART_APP_TX_CHAN_COUNT		8 // Must be Same as UART_TX_CHAN_COUNT
/* Length of application buffer to hold received UART data */
#define RX_CHANNEL_FIFO_LEN			256
</pre></div>
</div>
</div>
<div class="section" id="application-description">
<h3>Application Description<a class="headerlink" href="#application-description" title="Permalink to this headline">¶</a></h3>
<p>The demonstration application shows a typical structure of an application that might be implemented by the user of this component.</p>
<p>In addition to the two multi-UART threads the application utilises one more thread to manage UART data from transmit and receive threads. Application operates on a state machine to differentiate between user commands and user data. Application provides some buffers to hold data received from UARTs. The RX buffering is implemented as an example only and is not strictly necessary in this application. TX thread already provides some buffering supported at the component level.</p>
<p>When the RX thread receives a character over the UART it saves it into the local buffer, and a state handler operates on the data to identify its type and performs relevant processign actions as described below:</p>
<p>[TBA]</p>
<p>Generally, the data token received by RX buffering thread tells which UART channel a character has been received on. The thread then grabs this character out of the buffer slot, validates it utilising the provided validation function and inserts it into a larger, more comprehensive buffer.</p>
<p>The TX handler operates by polling this buffer. When an entry is seen it pulls it from the buffer and perform action based on state of the handler. The TX handler will process that value on the correct UART channel on the 8 bit port.</p>
<p>The channel for the TX thread is primarily used for reconfiguration. This is discussed in more detail in <a class="reference internal" href="Programming Guide.html#sec-reconf-rxtx"><span>Reconfiguration of RX &amp; TX Server</span></a>.</p>
<p>Specific usage of the API is discussed in <a class="reference internal" href="Programming Guide.html#sec-interfacing-tx"><span>Interfacing to the TX Server</span></a> and <a class="reference internal" href="Programming Guide.html#sec-interfacing-rx"><span>Interfacing to the RX Server</span></a>.</p>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Multi-UART Module Usage (0.1)</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Resource Requirements.html">Resource Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Hardware Requirements.html">Hardware Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Component Description.html">Component Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">Multi-UART Common API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-transmit-api">Multi-UART Transmit API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-receive-api">Multi-UART Receive API</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html#multi-uart-helper-api">Multi-UART Helper API</a></li>
<li class="toctree-l1"><a class="reference internal" href="Programming Guide.html">Programming Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Example Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#demonstration-application">Demonstration Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#demo-application-hardware">Demo Application Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="#demo-application-configuration">Demo Application Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application-description">Application Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none;margin-bottom: 10px;">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



